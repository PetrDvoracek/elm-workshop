<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <title>Main</title>
    <script src="main.js"></script>
</head>

<body>
<div id="elm"></div>

<script>
    var app = Elm.Main.init({
        node: document.getElementById("elm"),
        flags: {
            color: localStorage.getItem("color")
        }
    });

    app.ports.setColor.subscribe(function (color) {
        console.log("Elm is asking for saving color value " + color + " into localStorage");
        localStorage.setItem("color", color);

        app.ports.onColorChange.send(color);
    });


</script>
</body>
</html>
